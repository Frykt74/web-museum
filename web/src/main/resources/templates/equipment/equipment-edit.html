<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title th:text="${model.base.pageTitle}">Редактирование техники</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<nav th:replace="fragments/navbar"></nav>
<main class="container my-4">
  <h1 th:text="${model.base.pageTitle}" class="text-center">Редактирование техники</h1>
  <form th:action="@{/admin/equipment/{id}/edit(id=${form.id})}" method="post">
    <!-- Название -->
    <div class="mb-3">
      <label for="name" class="form-label">Название</label>
      <input type="text" class="form-control" id="name" name="name" th:value="${form.name}" required>
    </div>

    <!-- Категория -->
    <div class="mb-3">
      <label for="category" class="form-label">Категория</label>
      <select class="form-select" id="category" name="categoryId" required>
        <option value="">Выберите категорию</option>
        <option th:each="category : ${categories}" th:value="${category.id}"
                th:selected="${form.categoryId == category.id}" th:text="${category.name}"></option>
      </select>
    </div>

    <!-- Тема -->
    <div class="mb-3">
      <label for="theme" class="form-label">Тема</label>
      <select class="form-select" id="theme" name="themeId" required>
        <option value="">Выберите тему</option>
        <option th:each="theme : ${themes}" th:value="${theme.id}"
                th:selected="${form.themeId == theme.id}" th:text="${theme.name}"></option>
      </select>
    </div>

    <!-- Локация -->
    <div class="mb-3">
      <label for="location" class="form-label">Локация</label>
      <select class="form-select" id="location" name="locationId" required>
        <option value="">Выберите локацию</option>
        <option th:each="location : ${locations}" th:value="${location.id}"
                th:selected="${form.locationId == location.id}" th:text="${location.name}"></option>
      </select>
    </div>

    <!-- Год выпуска -->
    <div class="mb-3">
      <label for="year" class="form-label">Год выпуска</label>
      <input type="number" class="form-control" id="year" name="year" th:value="${form.year}" min="1800" max="2100" required>
    </div>

    <!-- Ссылка на изображение -->
    <div class="mb-3">
      <label for="image" class="form-label">Ссылка на изображение</label>
      <input type="url" class="form-control" id="image" name="image" th:value="${form.image}" required>
    </div>

    <!-- Описание -->
    <div class="mb-3">
      <label for="description" class="form-label">Описание</label>
      <textarea class="form-control" id="description" name="description" th:text="${form.description}"></textarea>
    </div>

    <!-- TODO Страна -->
    <input type="hidden" name="countryId" th:value="${form.countryId}" />

    <!-- Кнопка сохранения -->
    <button type="submit" class="btn btn-primary">Сохранить</button>
  </form>
</main>

<footer th:replace="fragments/footer"></footer>
</body>
</html>
